[{"line":"1","token_name":"T_OPEN_TAG","text":"<?php\n"},{"line":"2","token_name":"T_DECLARE","text":"declare"},{"line":"2","token_name":"(","text":"("},{"line":"2","token_name":"T_STRING","text":"strict_types"},{"line":"2","token_name":"=","text":"="},{"line":"2","token_name":"T_LNUMBER","text":"1"},{"line":"2","token_name":")","text":")"},{"line":"2","token_name":";","text":";"},{"line":"2","token_name":"T_WHITESPACE","text":"\n"},{"line":"3","token_name":"T_STRING","text":"header"},{"line":"3","token_name":"(","text":"("},{"line":"3","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"Access-Control-Allow-Origin: *\""},{"line":"3","token_name":")","text":")"},{"line":"3","token_name":";","text":";"},{"line":"3","token_name":"T_WHITESPACE","text":"\n"},{"line":"4","token_name":"T_STRING","text":"header"},{"line":"4","token_name":"(","text":"("},{"line":"4","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"Content-Type: application\/json; charset=UTF-8\""},{"line":"4","token_name":")","text":")"},{"line":"4","token_name":";","text":";"},{"line":"4","token_name":"T_WHITESPACE","text":"\n"},{"line":"5","token_name":"T_STRING","text":"header"},{"line":"5","token_name":"(","text":"("},{"line":"5","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"Access-Control-Allow-Methods: POST\""},{"line":"5","token_name":")","text":")"},{"line":"5","token_name":";","text":";"},{"line":"5","token_name":"T_WHITESPACE","text":"\n"},{"line":"6","token_name":"T_STRING","text":"header"},{"line":"6","token_name":"(","text":"("},{"line":"6","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"Access-Control-Max-Age: 3600\""},{"line":"6","token_name":")","text":")"},{"line":"6","token_name":";","text":";"},{"line":"6","token_name":"T_WHITESPACE","text":"\n"},{"line":"7","token_name":"T_STRING","text":"header"},{"line":"7","token_name":"(","text":"("},{"line":"7","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"Access-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\""},{"line":"7","token_name":")","text":")"},{"line":"7","token_name":";","text":";"},{"line":"7","token_name":"T_WHITESPACE","text":"\n"},{"line":"8","token_name":"T_IF","text":"if"},{"line":"8","token_name":"T_WHITESPACE","text":" "},{"line":"8","token_name":"(","text":"("},{"line":"8","token_name":"T_VARIABLE","text":"$_SERVER"},{"line":"8","token_name":"[","text":"["},{"line":"8","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"REQUEST_METHOD\""},{"line":"8","token_name":"]","text":"]"},{"line":"8","token_name":"T_WHITESPACE","text":" "},{"line":"8","token_name":"T_IS_NOT_IDENTICAL","text":"!=="},{"line":"8","token_name":"T_WHITESPACE","text":" "},{"line":"8","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'POST'"},{"line":"8","token_name":")","text":")"},{"line":"8","token_name":"T_WHITESPACE","text":" "},{"line":"8","token_name":"{","text":"{"},{"line":"8","token_name":"T_WHITESPACE","text":"\n    "},{"line":"9","token_name":"T_STRING","text":"header"},{"line":"9","token_name":"(","text":"("},{"line":"9","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'HTTP\/1.0 403 Forbidden'"},{"line":"9","token_name":")","text":")"},{"line":"9","token_name":";","text":";"},{"line":"9","token_name":"T_WHITESPACE","text":"\n    "},{"line":"10","token_name":"T_STRING","text":"http_response_code"},{"line":"10","token_name":"(","text":"("},{"line":"10","token_name":"T_LNUMBER","text":"403"},{"line":"10","token_name":")","text":")"},{"line":"10","token_name":";","text":";"},{"line":"10","token_name":"T_WHITESPACE","text":"\n    "},{"line":"11","token_name":"T_ECHO","text":"echo"},{"line":"11","token_name":"T_WHITESPACE","text":" "},{"line":"11","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'This method is not allowed!'"},{"line":"11","token_name":";","text":";"},{"line":"11","token_name":"T_WHITESPACE","text":"\n    "},{"line":"12","token_name":"T_EXIT","text":"exit"},{"line":"12","token_name":";","text":";"},{"line":"12","token_name":"T_WHITESPACE","text":"\n"},{"line":"13","token_name":"}","text":"}"},{"line":"13","token_name":"T_WHITESPACE","text":"\n"},{"line":"14","token_name":"T_INCLUDE_ONCE","text":"include_once"},{"line":"14","token_name":"T_WHITESPACE","text":" "},{"line":"14","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'..\/config\/database.php'"},{"line":"14","token_name":";","text":";"},{"line":"14","token_name":"T_WHITESPACE","text":"\n"},{"line":"15","token_name":"T_INCLUDE_ONCE","text":"include_once"},{"line":"15","token_name":"T_WHITESPACE","text":" "},{"line":"15","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'..\/objects\/product.php'"},{"line":"15","token_name":";","text":";"},{"line":"15","token_name":"T_WHITESPACE","text":"\n\n"},{"line":"17","token_name":"T_VARIABLE","text":"$database"},{"line":"17","token_name":"T_WHITESPACE","text":" "},{"line":"17","token_name":"=","text":"="},{"line":"17","token_name":"T_WHITESPACE","text":" "},{"line":"17","token_name":"T_NEW","text":"new"},{"line":"17","token_name":"T_WHITESPACE","text":" "},{"line":"17","token_name":"T_STRING","text":"Database"},{"line":"17","token_name":"(","text":"("},{"line":"17","token_name":")","text":")"},{"line":"17","token_name":";","text":";"},{"line":"17","token_name":"T_WHITESPACE","text":"\n"},{"line":"18","token_name":"T_VARIABLE","text":"$db"},{"line":"18","token_name":"T_WHITESPACE","text":" "},{"line":"18","token_name":"=","text":"="},{"line":"18","token_name":"T_WHITESPACE","text":" "},{"line":"18","token_name":"T_VARIABLE","text":"$database"},{"line":"18","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"18","token_name":"T_STRING","text":"getConnection"},{"line":"18","token_name":"(","text":"("},{"line":"18","token_name":")","text":")"},{"line":"18","token_name":";","text":";"},{"line":"18","token_name":"T_WHITESPACE","text":"\n"},{"line":"19","token_name":"T_VARIABLE","text":"$product"},{"line":"19","token_name":"T_WHITESPACE","text":" "},{"line":"19","token_name":"=","text":"="},{"line":"19","token_name":"T_WHITESPACE","text":" "},{"line":"19","token_name":"T_NEW","text":"new"},{"line":"19","token_name":"T_WHITESPACE","text":" "},{"line":"19","token_name":"T_STRING","text":"Product"},{"line":"19","token_name":"(","text":"("},{"line":"19","token_name":"T_VARIABLE","text":"$db"},{"line":"19","token_name":")","text":")"},{"line":"19","token_name":";","text":";"},{"line":"19","token_name":"T_WHITESPACE","text":"\n"},{"line":"20","token_name":"T_VARIABLE","text":"$data"},{"line":"20","token_name":"T_WHITESPACE","text":" "},{"line":"20","token_name":"=","text":"="},{"line":"20","token_name":"T_WHITESPACE","text":" "},{"line":"20","token_name":"T_STRING","text":"json_decode"},{"line":"20","token_name":"(","text":"("},{"line":"20","token_name":"T_STRING","text":"file_get_contents"},{"line":"20","token_name":"(","text":"("},{"line":"20","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"php:\/\/input\""},{"line":"20","token_name":")","text":")"},{"line":"20","token_name":")","text":")"},{"line":"20","token_name":";","text":";"},{"line":"20","token_name":"T_WHITESPACE","text":"\n\n"},{"line":"22","token_name":"T_IF","text":"if"},{"line":"22","token_name":"T_WHITESPACE","text":" "},{"line":"22","token_name":"(","text":"("},{"line":"22","token_name":"T_WHITESPACE","text":"\n    "},{"line":"23","token_name":"!","text":"!"},{"line":"23","token_name":"T_EMPTY","text":"empty"},{"line":"23","token_name":"(","text":"("},{"line":"23","token_name":"T_VARIABLE","text":"$data"},{"line":"23","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"23","token_name":"T_STRING","text":"name"},{"line":"23","token_name":")","text":")"},{"line":"23","token_name":"T_WHITESPACE","text":" "},{"line":"23","token_name":"T_BOOLEAN_AND","text":"&&"},{"line":"23","token_name":"T_WHITESPACE","text":"\n    "},{"line":"24","token_name":"!","text":"!"},{"line":"24","token_name":"T_EMPTY","text":"empty"},{"line":"24","token_name":"(","text":"("},{"line":"24","token_name":"T_VARIABLE","text":"$data"},{"line":"24","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"24","token_name":"T_STRING","text":"price"},{"line":"24","token_name":")","text":")"},{"line":"24","token_name":"T_WHITESPACE","text":" "},{"line":"24","token_name":"T_BOOLEAN_AND","text":"&&"},{"line":"24","token_name":"T_WHITESPACE","text":"\n    "},{"line":"25","token_name":"!","text":"!"},{"line":"25","token_name":"T_EMPTY","text":"empty"},{"line":"25","token_name":"(","text":"("},{"line":"25","token_name":"T_VARIABLE","text":"$data"},{"line":"25","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"25","token_name":"T_STRING","text":"description"},{"line":"25","token_name":")","text":")"},{"line":"25","token_name":"T_WHITESPACE","text":" "},{"line":"25","token_name":"T_BOOLEAN_AND","text":"&&"},{"line":"25","token_name":"T_WHITESPACE","text":"\n    "},{"line":"26","token_name":"!","text":"!"},{"line":"26","token_name":"T_EMPTY","text":"empty"},{"line":"26","token_name":"(","text":"("},{"line":"26","token_name":"T_VARIABLE","text":"$data"},{"line":"26","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"26","token_name":"T_STRING","text":"category_id"},{"line":"26","token_name":")","text":")"},{"line":"26","token_name":"T_WHITESPACE","text":"\n"},{"line":"27","token_name":")","text":")"},{"line":"27","token_name":"T_WHITESPACE","text":" "},{"line":"27","token_name":"{","text":"{"},{"line":"27","token_name":"T_WHITESPACE","text":"\n    "},{"line":"28","token_name":"T_VARIABLE","text":"$product"},{"line":"28","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"28","token_name":"T_STRING","text":"name"},{"line":"28","token_name":"T_WHITESPACE","text":" "},{"line":"28","token_name":"=","text":"="},{"line":"28","token_name":"T_WHITESPACE","text":" "},{"line":"28","token_name":"T_VARIABLE","text":"$_POST"},{"line":"28","token_name":"[","text":"["},{"line":"28","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'name'"},{"line":"28","token_name":"]","text":"]"},{"line":"28","token_name":";","text":";"},{"line":"28","token_name":"T_WHITESPACE","text":"\n    "},{"line":"29","token_name":"T_VARIABLE","text":"$product"},{"line":"29","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"29","token_name":"T_STRING","text":"price"},{"line":"29","token_name":"T_WHITESPACE","text":" "},{"line":"29","token_name":"=","text":"="},{"line":"29","token_name":"T_WHITESPACE","text":" "},{"line":"29","token_name":"T_STRING","text":"intval"},{"line":"29","token_name":"(","text":"("},{"line":"29","token_name":"T_VARIABLE","text":"$_POST"},{"line":"29","token_name":"[","text":"["},{"line":"29","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'price'"},{"line":"29","token_name":"]","text":"]"},{"line":"29","token_name":")","text":")"},{"line":"29","token_name":";","text":";"},{"line":"29","token_name":"T_WHITESPACE","text":"\n    "},{"line":"30","token_name":"T_VARIABLE","text":"$product"},{"line":"30","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"30","token_name":"T_STRING","text":"description"},{"line":"30","token_name":"T_WHITESPACE","text":" "},{"line":"30","token_name":"=","text":"="},{"line":"30","token_name":"T_WHITESPACE","text":" "},{"line":"30","token_name":"T_VARIABLE","text":"$_POST"},{"line":"30","token_name":"[","text":"["},{"line":"30","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'description'"},{"line":"30","token_name":"]","text":"]"},{"line":"30","token_name":";","text":";"},{"line":"30","token_name":"T_WHITESPACE","text":"\n    "},{"line":"31","token_name":"T_VARIABLE","text":"$product"},{"line":"31","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"31","token_name":"T_STRING","text":"category_id"},{"line":"31","token_name":"T_WHITESPACE","text":" "},{"line":"31","token_name":"=","text":"="},{"line":"31","token_name":"T_WHITESPACE","text":" "},{"line":"31","token_name":"T_STRING","text":"intval"},{"line":"31","token_name":"(","text":"("},{"line":"31","token_name":"T_VARIABLE","text":"$_POST"},{"line":"31","token_name":"[","text":"["},{"line":"31","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'category_id'"},{"line":"31","token_name":"]","text":"]"},{"line":"31","token_name":")","text":")"},{"line":"31","token_name":";","text":";"},{"line":"31","token_name":"T_WHITESPACE","text":"\n    "},{"line":"32","token_name":"T_VARIABLE","text":"$product"},{"line":"32","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"32","token_name":"T_STRING","text":"created"},{"line":"32","token_name":"T_WHITESPACE","text":" "},{"line":"32","token_name":"=","text":"="},{"line":"32","token_name":"T_WHITESPACE","text":" "},{"line":"32","token_name":"T_STRING","text":"date"},{"line":"32","token_name":"(","text":"("},{"line":"32","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"'Y-m-d H:i:s'"},{"line":"32","token_name":")","text":")"},{"line":"32","token_name":";","text":";"},{"line":"32","token_name":"T_WHITESPACE","text":"\n\n    "},{"line":"34","token_name":"T_IF","text":"if"},{"line":"34","token_name":"T_WHITESPACE","text":" "},{"line":"34","token_name":"(","text":"("},{"line":"34","token_name":"T_VARIABLE","text":"$product"},{"line":"34","token_name":"T_OBJECT_OPERATOR","text":"->"},{"line":"34","token_name":"T_STRING","text":"create"},{"line":"34","token_name":"(","text":"("},{"line":"34","token_name":")","text":")"},{"line":"34","token_name":")","text":")"},{"line":"34","token_name":"T_WHITESPACE","text":" "},{"line":"34","token_name":"{","text":"{"},{"line":"34","token_name":"T_WHITESPACE","text":"\n        "},{"line":"35","token_name":"T_STRING","text":"http_response_code"},{"line":"35","token_name":"(","text":"("},{"line":"35","token_name":"T_LNUMBER","text":"201"},{"line":"35","token_name":")","text":")"},{"line":"35","token_name":";","text":";"},{"line":"35","token_name":"T_WHITESPACE","text":"\n        "},{"line":"36","token_name":"T_ECHO","text":"echo"},{"line":"36","token_name":"T_WHITESPACE","text":" "},{"line":"36","token_name":"T_STRING","text":"json_encode"},{"line":"36","token_name":"(","text":"("},{"line":"36","token_name":"T_ARRAY","text":"array"},{"line":"36","token_name":"(","text":"("},{"line":"36","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"message\""},{"line":"36","token_name":"T_WHITESPACE","text":" "},{"line":"36","token_name":"T_DOUBLE_ARROW","text":"=>"},{"line":"36","token_name":"T_WHITESPACE","text":" "},{"line":"36","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"Товар был создан.\""},{"line":"36","token_name":")","text":")"},{"line":"36","token_name":",","text":","},{"line":"36","token_name":"T_WHITESPACE","text":" "},{"line":"36","token_name":"T_STRING","text":"JSON_UNESCAPED_UNICODE"},{"line":"36","token_name":")","text":")"},{"line":"36","token_name":";","text":";"},{"line":"36","token_name":"T_WHITESPACE","text":"\n    "},{"line":"37","token_name":"}","text":"}"},{"line":"37","token_name":"T_WHITESPACE","text":"\n    "},{"line":"38","token_name":"T_ELSE","text":"else"},{"line":"38","token_name":"T_WHITESPACE","text":" "},{"line":"38","token_name":"{","text":"{"},{"line":"38","token_name":"T_WHITESPACE","text":"\n        "},{"line":"39","token_name":"T_STRING","text":"http_response_code"},{"line":"39","token_name":"(","text":"("},{"line":"39","token_name":"T_LNUMBER","text":"503"},{"line":"39","token_name":")","text":")"},{"line":"39","token_name":";","text":";"},{"line":"39","token_name":"T_WHITESPACE","text":"\n        "},{"line":"40","token_name":"T_ECHO","text":"echo"},{"line":"40","token_name":"T_WHITESPACE","text":" "},{"line":"40","token_name":"T_STRING","text":"json_encode"},{"line":"40","token_name":"(","text":"("},{"line":"40","token_name":"T_ARRAY","text":"array"},{"line":"40","token_name":"(","text":"("},{"line":"40","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"message\""},{"line":"40","token_name":"T_WHITESPACE","text":" "},{"line":"40","token_name":"T_DOUBLE_ARROW","text":"=>"},{"line":"40","token_name":"T_WHITESPACE","text":" "},{"line":"40","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"Невозможно создать товар.\""},{"line":"40","token_name":")","text":")"},{"line":"40","token_name":",","text":","},{"line":"40","token_name":"T_WHITESPACE","text":" "},{"line":"40","token_name":"T_STRING","text":"JSON_UNESCAPED_UNICODE"},{"line":"40","token_name":")","text":")"},{"line":"40","token_name":";","text":";"},{"line":"40","token_name":"T_WHITESPACE","text":"\n    "},{"line":"41","token_name":"}","text":"}"},{"line":"41","token_name":"T_WHITESPACE","text":"\n"},{"line":"42","token_name":"}","text":"}"},{"line":"42","token_name":"T_WHITESPACE","text":"\n"},{"line":"43","token_name":"T_ELSE","text":"else"},{"line":"43","token_name":"T_WHITESPACE","text":" "},{"line":"43","token_name":"{","text":"{"},{"line":"43","token_name":"T_WHITESPACE","text":"\n    "},{"line":"44","token_name":"T_STRING","text":"http_response_code"},{"line":"44","token_name":"(","text":"("},{"line":"44","token_name":"T_LNUMBER","text":"400"},{"line":"44","token_name":")","text":")"},{"line":"44","token_name":";","text":";"},{"line":"44","token_name":"T_WHITESPACE","text":"\n    "},{"line":"45","token_name":"T_ECHO","text":"echo"},{"line":"45","token_name":"T_WHITESPACE","text":" "},{"line":"45","token_name":"T_STRING","text":"json_encode"},{"line":"45","token_name":"(","text":"("},{"line":"45","token_name":"T_ARRAY","text":"array"},{"line":"45","token_name":"(","text":"("},{"line":"45","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"message\""},{"line":"45","token_name":"T_WHITESPACE","text":" "},{"line":"45","token_name":"T_DOUBLE_ARROW","text":"=>"},{"line":"45","token_name":"T_WHITESPACE","text":" "},{"line":"45","token_name":"T_CONSTANT_ENCAPSED_STRING","text":"\"Невозможно создать товар. Данные неполные.\""},{"line":"45","token_name":")","text":")"},{"line":"45","token_name":",","text":","},{"line":"45","token_name":"T_WHITESPACE","text":" "},{"line":"45","token_name":"T_STRING","text":"JSON_UNESCAPED_UNICODE"},{"line":"45","token_name":")","text":")"},{"line":"45","token_name":";","text":";"},{"line":"45","token_name":"T_WHITESPACE","text":"\n"},{"line":"46","token_name":"}","text":"}"},{"line":"46","token_name":"T_WHITESPACE","text":"\n"}]